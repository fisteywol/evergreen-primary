<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evergreen Primary School</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #2e7d32 0%, #388e3c 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .nav {
            background: #1b5e20;
            padding: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav ul {
            list-style: none;
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            flex-wrap: wrap;
        }

        .nav li {
            flex: 1;
            min-width: 120px;
        }

        .nav a {
            display: block;
            color: white;
            text-decoration: none;
            padding: 15px 20px;
            text-align: center;
            transition: background 0.3s;
        }

        .nav a:hover, .nav a.active {
            background: #2e7d32;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .page {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            animation: fadeIn 0.3s;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #2e7d32;
            margin-bottom: 20px;
            border-bottom: 3px solid #4caf50;
            padding-bottom: 10px;
        }

        .login-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .login-table th, .login-table td {
            border: 2px solid #4caf50;
            padding: 15px;
            text-align: left;
        }

        .login-table th {
            background: #2e7d32;
            color: white;
        }

        .login-table tr:nth-child(even) {
            background: #e8f5e9;
        }

        input[type="text"], input[type="password"], textarea, select {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 2px solid #4caf50;
            border-radius: 5px;
            font-size: 14px;
        }

        button {
            background: #2e7d32;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: background 0.3s;
        }

        button:hover {
            background: #1b5e20;
        }

        .btn-danger {
            background: #c62828;
        }

        .btn-danger:hover {
            background: #b71c1c;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .team-card {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #4caf50;
            text-align: center;
        }

        .team-card h3 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .news-item, .event-item, .letter-item {
            background: #f1f8f4;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #4caf50;
            border-radius: 5px;
        }

        .news-item h3, .event-item h3 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .timetable {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .timetable th, .timetable td {
            border: 2px solid #4caf50;
            padding: 10px;
            text-align: center;
        }

        .timetable th {
            background: #2e7d32;
            color: white;
        }

        .timetable input {
            border: 1px solid #ccc;
            padding: 5px;
            width: 100%;
        }

        .dashboard {
            display: grid;
            gap: 20px;
            margin-top: 20px;
        }

        .dashboard-section {
            background: #f1f8f4;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #4caf50;
        }

        .notebook {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 2px solid #4caf50;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .student-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .student-item {
            background: #f1f8f4;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border: 2px solid #4caf50;
        }

        .staff-desktop-view {
            margin: 20px 0;
            padding: 20px;
            background: #f9f9f9;
            border: 2px solid #4caf50;
            border-radius: 10px;
        }

        .logout-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
        }

        .media-item {
            background: #e8f5e9;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border: 2px solid #4caf50;
        }
    </style>
</head>
<body>
    
    <!-- Open Graph / Facebook -->
<meta property="og:title" content="Evergreen Primary School">
<meta property="og:description" content="Welcome to Evergreen Primary School â€“ Be kind, Work Hard">
<meta property="og:image" content="logo.png">
<meta property="og:url" content="https://fisteywol.github.io/evergreen-primary/">
<meta property="og:type" content="website">

<!-- Twitter Card -->
<meta name="twitter:card" content="logo.png">
<meta name="twitter:title" content="Evergreen Primary School">
<meta name="twitter:description" content="Welcome to Evergreen Primary School â€“ Be Kind, Work Hard">
<meta name="twitter:image" content="logo.png">
<meta name="twitter:site" content="@EvergreenPrimary">
    
    <div class="header">
        <div class="header-content">
            <h1>ðŸŒ² Evergreen Primary School</h1>
            <p>Growing Together, Learning Forever</p>
        </div>
    </div>

    <nav class="nav">
        <ul>
            <li><a href="#" onclick="showPage('home')" class="active">Home</a></li>
            <li><a href="#" onclick="showPage('about')">About Us</a></li>
            <li><a href="#" onclick="showPage('team')">Our Team</a></li>
            <li><a href="#" onclick="showPage('news')">News</a></li>
            <li><a href="#" onclick="showPage('events')">Events</a></li>
            <li><a href="#" onclick="showPage('login')">Log In</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <h2>Welcome to Evergreen Primary School</h2>
            <p>Welcome to our vibrant learning community where every child matters. At Evergreen Primary School, we are committed to providing an exceptional education that nurtures curiosity, builds character, and inspires excellence.</p>
            <p>Our dedicated staff work tirelessly to create a safe, supportive, and stimulating environment where all students can thrive academically, socially, and emotionally.</p>
        </div>

        <!-- About Us Page -->
        <div id="about" class="page">
            <h2>About Us</h2>
            <p>Evergreen Primary School has been a cornerstone of our community for over 50 years. We pride ourselves on our inclusive ethos and commitment to excellence in education.</p>
            <h3>Our Vision</h3>
            <p>To inspire lifelong learners who are confident, creative, and compassionate members of society.</p>
            <h3>Our Values</h3>
            <ul>
                <li><strong>Respect:</strong> We value every individual and treat everyone with dignity.</li>
                <li><strong>Excellence:</strong> We strive for the highest standards in all we do.</li>
                <li><strong>Creativity:</strong> We encourage innovative thinking and self-expression.</li>
                <li><strong>Community:</strong> We work together to support each other's growth.</li>
            </ul>
        </div>

        <!-- Our Team Page -->
        <div id="team" class="page">
            <h2>Our Team</h2>
            <div class="team-grid" id="teamGrid">
                <div class="team-card">
                    <h3>Ms. Johnson</h3>
                    <p><strong>Headteacher</strong></p>
                    <p>Leading our school with vision and dedication.</p>
                </div>
                <div class="team-card">
                    <h3>Mr. Smith</h3>
                    <p><strong>Deputy Head</strong></p>
                    <p>Supporting teaching and learning excellence.</p>
                </div>
                <div class="team-card">
                    <h3>Mrs. Williams</h3>
                    <p><strong>Year 6 Teacher</strong></p>
                    <p>Preparing students for their next adventure.</p>
                </div>
            </div>
        </div>

        <!-- News Page -->
        <div id="news" class="page">
            <h2>School News</h2>
            <div id="newsList">
                <div class="news-item">
                    <h3>Welcome Back!</h3>
                    <p><em>October 1, 2025</em></p>
                    <p>Welcome back to all our students and families for the new academic year. We're excited for another year of learning and growth together!</p>
                </div>
            </div>
        </div>

        <!-- Events Page -->
        <div id="events" class="page">
            <h2>Upcoming Events</h2>
            <div id="eventsList">
                <div class="event-item">
                    <h3>Parents' Evening</h3>
                    <p><strong>Date:</strong> October 15, 2025</p>
                    <p>Join us to discuss your child's progress. Appointments available from 4pm-7pm.</p>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="login" class="page">
            <h2>Log In Portal</h2>
            <p>Please select your login type and enter your credentials:</p>
            
            <table class="login-table">
                <thead>
                    <tr>
                        <th>User Type</th>
                        <th>Username</th>
                        <th>Password</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Student</strong></td>
                        <td><input type="text" id="studentUsername" placeholder="Username"></td>
                        <td><input type="password" id="studentPassword" placeholder="Password"></td>
                        <td><button onclick="loginStudent()">Log In</button></td>
                    </tr>
                    <tr>
                        <td><strong>Staff</strong></td>
                        <td><input type="text" id="staffUsername" placeholder="Username"></td>
                        <td><input type="password" id="staffPassword" placeholder="Password"></td>
                        <td><button onclick="loginStaff()">Log In</button></td>
                    </tr>
                    <tr>
                        <td><strong>Senior Leaders</strong></td>
                        <td><input type="text" id="sltUsername" placeholder="Username"></td>
                        <td><input type="password" id="sltPassword" placeholder="Password"></td>
                        <td><button onclick="loginSLT()">Log In</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Student Dashboard -->
        <div id="studentDashboard" class="page">
            <button class="logout-btn" onclick="logout()">Log Out</button>
            <h2>Student Dashboard</h2>
            <p>Welcome, <span id="studentName"></span>!</p>
            
            <div class="dashboard">
                <div class="dashboard-section">
                    <h3>School News</h3>
                    <div id="studentNews"></div>
                </div>
                
                <div class="dashboard-section">
                    <h3>Upcoming Events</h3>
                    <div id="studentEvents"></div>
                </div>
                
                <div class="dashboard-section">
                    <h3>Student Media & Content</h3>
                    <div id="studentMedia">
                        <div class="media-item">
                            <h4>ðŸ“š Study Resources</h4>
                            <p>Access your homework and study materials here.</p>
                        </div>
                        <div class="media-item">
                            <h4>ðŸŽ¨ Art Gallery</h4>
                            <p>View the latest student artwork and projects.</p>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-section">
                    <h3>Letters & Communications</h3>
                    <div id="studentLetters">
                        <div class="letter-item">
                            <h4>Parent Letter - October 2025</h4>
                            <p><em>Sent: October 1, 2025</em></p>
                            <p>Important information about the upcoming term and key dates.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Staff Dashboard -->
        <div id="staffDashboard" class="page">
            <button class="logout-btn" onclick="logout()">Log Out</button>
            <h2>Staff Dashboard</h2>
            <p>Welcome, <span id="staffName"></span>!</p>
            
            <div class="dashboard">
                <div class="dashboard-section">
                    <h3>Post Announcement</h3>
                    <input type="text" id="newsTitle" placeholder="News Title">
                    <textarea id="newsContent" rows="3" placeholder="News content..."></textarea>
                    <button onclick="postNews()">Post to News</button>
                </div>
                
                <div class="dashboard-section">
                    <h3>Create Event</h3>
                    <input type="text" id="eventTitle" placeholder="Event Title">
                    <input type="text" id="eventDate" placeholder="Event Date">
                    <textarea id="eventContent" rows="3" placeholder="Event details..."></textarea>
                    <button onclick="createEvent()">Create Event</button>
                </div>
                
                <div class="dashboard-section">
                    <h3>My Timetable</h3>
                    <table class="timetable">
                        <thead>
                            <tr>
                                <th>Period</th>
                                <th>Monday</th>
                                <th>Tuesday</th>
                                <th>Wednesday</th>
                                <th>Thursday</th>
                                <th>Friday</th>
                                <th>Saturday</th>
                                <th>Sunday</th>
                            </tr>
                        </thead>
                        <tbody id="staffTimetable">
                        </tbody>
                    </table>
                    <button onclick="saveTimetable()">Save Timetable</button>
                </div>
                
                <div class="dashboard-section">
                    <h3>My Notebook</h3>
                    <textarea id="staffNotebook" class="notebook" placeholder="Write your notes here..."></textarea>
                    <button onclick="saveNotebook()">Save Notes</button>
                </div>
            </div>
        </div>

        <!-- SLT Dashboard -->
        <div id="sltDashboard" class="page">
            <button class="logout-btn" onclick="logout()">Log Out</button>
            <h2>Senior Leadership Dashboard</h2>
            <p>Welcome, <span id="sltName"></span>!</p>
            
            <div class="dashboard">
                <div class="dashboard-section">
                    <h3>Manage Student Passwords</h3>
                    <div class="student-list" id="studentPasswordList"></div>
                </div>
                
                <div class="dashboard-section">
                    <h3>View & Edit Staff Desktops</h3>
                    <select id="staffSelect" onchange="loadStaffDesktop()">
                        <option value="">-- Select Staff Member --</option>
                    </select>
                    <div id="staffDesktopView"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Change Modal -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <h2>Change Your Password</h2>
            <p>Welcome! Please set a new password for your account.</p>
            <input type="password" id="newPassword" placeholder="New Password">
            <input type="password" id="confirmPassword" placeholder="Confirm Password">
            <button onclick="changeStudentPassword()">Set Password</button>
        </div>
    </div>

    <script>
        // Data Storage with localStorage
        function saveData() {
            const data = {
                students: students,
                staffMembers: staffMembers,
                sltMembers: sltMembers,
                newsItems: newsItems,
                events: events
            };
            localStorage.setItem('evergreenSchoolData', JSON.stringify(data));
        }

        function loadData() {
            const saved = localStorage.getItem('evergreenSchoolData');
            if (saved) {
                const data = JSON.parse(saved);
                students = data.students || students;
                staffMembers = data.staffMembers || staffMembers;
                sltMembers = data.sltMembers || sltMembers;
                newsItems = data.newsItems || newsItems;
                events = data.events || events;
            }
        }

        // Initialize data on page load
        let currentUser = null;
        let students = [
            { username: 'dillacooch', password: 'dillacooch123', name: 'Dilley Ria' },
            { username: 'bobTheBuilder', password: 'canHeFixIt?', name: 'Bob Builder' },
            { username: 'student3', password: 'temp789', name: 'Sophie Davis' }
        ];

        let staffMembers = [
            { username: 's', password: 'staff123', name: 'Ms. Anderson', timetable: {}, notebook: '' }
            { username: 'teacher1', password: 'staff123', name: 'Ms. Anderson', timetable: {}, notebook: '' }
        ];

        let sltMembers = [
            { username: 'slt1', password: 'leader123', name: 'Mr. Principal' },
            { username: 'slt2', password: 'leader456', name: 'Mrs. Deputy' },
            { username: 'slt3', password: 'leader789', name: 'Ms. Assistant Head' },
            { username: 'slt4', password: 'leader321', name: 'Mr. Head of Year' },
            { username: 'slt5', password: 'leader654', name: 'Mrs. SEN Coordinator' },
            { username: 'slt6', password: 'leader987', name: 'Ms. Curriculum Lead' }
        ];

        let newsItems = [];
        let events = [];

        const periods = ['Form', 'Period 1', 'Period 2', 'Break', 'Period 3', 'Period 4', 'Lunch', 'Period 5'];
        const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];

        // Load data when page loads
        loadData();

        // Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            // Update active nav link
            const navLinks = document.querySelectorAll('.nav a');
            navLinks.forEach(link => {
                if (link.getAttribute('onclick') && link.getAttribute('onclick').includes(pageId)) {
                    link.classList.add('active');
                }
            });
        }

        // Student Login
        function loginStudent() {
            const username = document.getElementById('studentUsername').value;
            const password = document.getElementById('studentPassword').value;
            
            const student = students.find(s => s.username === username && s.password === password);
            
            if (student) {
                currentUser = { type: 'student', data: student };
                showStudentDashboard();
            } else {
                alert('Invalid credentials!');
            }
        }

        function showStudentDashboard() {
            document.getElementById('studentName').textContent = currentUser.data.name;
            document.getElementById('studentNews').innerHTML = newsItems.map(n => 
                `<div class="news-item"><h3>${n.title}</h3><p>${n.content}</p></div>`
            ).join('') || '<p>No news available.</p>';
            
            document.getElementById('studentEvents').innerHTML = events.map(e => 
                `<div class="event-item"><h3>${e.title}</h3><p><strong>Date:</strong> ${e.date}</p><p>${e.content}</p></div>`
            ).join('') || '<p>No upcoming events.</p>';
            
            showPage('studentDashboard');
        }

        // Staff Login
        function loginStaff() {
            const username = document.getElementById('staffUsername').value;
            const password = document.getElementById('staffPassword').value;
            
            const staff = staffMembers.find(s => s.username === username && s.password === password);
            
            if (staff) {
                currentUser = { type: 'staff', data: staff };
                showStaffDashboard();
            } else {
                alert('Invalid credentials!');
            }
        }

        function showStaffDashboard() {
            document.getElementById('staffName').textContent = currentUser.data.name;
            buildTimetable();
            document.getElementById('staffNotebook').value = currentUser.data.notebook || '';
            updateTeamPage();
            showPage('staffDashboard');
        }

        function buildTimetable() {
            const tbody = document.getElementById('staffTimetable');
            tbody.innerHTML = '';
            
            periods.forEach(period => {
                const row = document.createElement('tr');
                row.innerHTML = `<th>${period}</th>`;
                
                days.forEach(day => {
                    const cell = document.createElement('td');
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.value = currentUser.data.timetable[`${period}-${day}`] || '';
                    input.dataset.period = period;
                    input.dataset.day = day;
                    cell.appendChild(input);
                    row.appendChild(cell);
                });
                
                tbody.appendChild(row);
            });
        }

        function saveTimetable() {
            const inputs = document.querySelectorAll('#staffTimetable input');
            inputs.forEach(input => {
                const key = `${input.dataset.period}-${input.dataset.day}`;
                currentUser.data.timetable[key] = input.value;
            });
            alert('Timetable saved successfully!');
        }

        function saveNotebook() {
            currentUser.data.notebook = document.getElementById('staffNotebook').value;
            alert('Notes saved successfully!');
        }

        function postNews() {
            const title = document.getElementById('newsTitle').value;
            const content = document.getElementById('newsContent').value;
            
            if (title && content) {
                newsItems.unshift({ title, content, author: currentUser.data.name, date: new Date().toLocaleDateString() });
                document.getElementById('newsTitle').value = '';
                document.getElementById('newsContent').value = '';
                alert('News posted successfully!');
            } else {
                alert('Please fill in all fields!');
            }
        }

        function createEvent() {
            const title = document.getElementById('eventTitle').value;
            const date = document.getElementById('eventDate').value;
            const content = document.getElementById('eventContent').value;
            
            if (title && date && content) {
                events.unshift({ title, date, content, author: currentUser.data.name });
                document.getElementById('eventTitle').value = '';
                document.getElementById('eventDate').value = '';
                document.getElementById('eventContent').value = '';
                alert('Event created successfully!');
            } else {
                alert('Please fill in all fields!');
            }
        }

        function updateTeamPage() {
            const teamGrid = document.getElementById('teamGrid');
            const staffCards = staffMembers.map(staff => 
                `<div class="team-card">
                    <h3>${staff.name}</h3>
                    <p><strong>Staff Member</strong></p>
                    <p>Dedicated educator at Evergreen Primary.</p>
                </div>`
            ).join('');
            
            teamGrid.innerHTML = `
                <div class="team-card">
                    <h3>Ms. Johnson</h3>
                    <p><strong>Headteacher</strong></p>
                    <p>Leading our school with vision and dedication.</p>
                </div>
                <div class="team-card">
                    <h3>Mr. Smith</h3>
                    <p><strong>Deputy Head</strong></p>
                    <p>Supporting teaching and learning excellence.</p>
                </div>
                ${staffCards}
            `;
        }

        // SLT Login
        function loginSLT() {
            const username = document.getElementById('sltUsername').value;
            const password = document.getElementById('sltPassword').value;
            
            const slt = sltMembers.find(s => s.username === username && s.password === password);
            
            if (slt) {
                currentUser = { type: 'slt', data: slt };
                showSLTDashboard();
            } else {
                alert('Invalid credentials!');
            }
        }

        function showSLTDashboard() {
            document.getElementById('sltName').textContent = currentUser.data.name;
            loadStudentPasswordList();
            loadStaffSelect();
            showPage('sltDashboard');
        }

        function loadStudentPasswordList() {
            const list = document.getElementById('studentPasswordList');
            list.innerHTML = students.map((student, index) => `
                <div class="student-item">
                    <h4>${student.name}</h4>
                    <p>Username: ${student.username}</p>
                    <input type="password" id="studentPass${index}" placeholder="New Password">
                    <button onclick="resetStudentPassword(${index})">Reset Password</button>
                </div>
            `).join('');
        }

        function resetStudentPassword(index) {
            const newPass = document.getElementById(`studentPass${index}`).value;
            if (newPass.length >= 6) {
                students[index].password = newPass;
                alert('Password reset successfully!');
                document.getElementById(`studentPass${index}`).value = '';
            } else {
                alert('Password must be at least 6 characters!');
            }
        }

        function loadStaffSelect() {
            const select = document.getElementById('staffSelect');
            select.innerHTML = '<option value="">-- Select Staff Member --</option>' +
                staffMembers.map((staff, index) => 
                    `<option value="${index}">${staff.name}</option>`
                ).join('');
        }

        function loadStaffDesktop() {
            const index = document.getElementById('staffSelect').value;
            if (index === '') {
                document.getElementById('staffDesktopView').innerHTML = '';
                return;
            }
            
            const staff = staffMembers[index];
            const view = document.getElementById('staffDesktopView');
            
            view.innerHTML = `
                <div class="staff-desktop-view">
                    <h3>${staff.name}'s Desktop</h3>
                    
                    <h4>Timetable</h4>
                    <table class="timetable">
                        <thead>
                            <tr>
                                <th>Period</th>
                                ${days.map(d => `<th>${d}</th>`).join('')}
                            </tr>
                        </thead>
                        <tbody>
                            ${periods.map(period => `
                                <tr>
                                    <th>${period}</th>
                                    ${days.map(day => `
                                        <td>
                                            <input type="text" value="${staff.timetable[`${period}-${day}`] || ''}" 
                                                   data-staff="${index}" data-period="${period}" data-day="${day}">
                                        </td>
                                    `).join('')}
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                    <button onclick="saveSLTTimetableChanges()">Save Timetable Changes</button>
                    
                    <h4>Notebook</h4>
                    <textarea id="sltStaffNotebook" class="notebook">${staff.notebook || ''}</textarea>
                    <button onclick="saveSLTNotebookChanges()">Save Notebook Changes</button>
                </div>
            `;
        }

        function saveSLTTimetableChanges() {
            const staffIndex = document.getElementById('staffSelect').value;
            if (staffIndex === '') return;
            
            const inputs = document.querySelectorAll('#staffDesktopView input[data-staff]');
            inputs.forEach(input => {
                const key = `${input.dataset.period}-${input.dataset.day}`;
                staffMembers[staffIndex].timetable[key] = input.value;
            });
            
            alert('Timetable changes saved successfully!');
        }

        function saveSLTNotebookChanges() {
            const staffIndex = document.getElementById('staffSelect').value;
            if (staffIndex === '') return;
            
            const notebook = document.getElementById('sltStaffNotebook').value;
            staffMembers[staffIndex].notebook = notebook;
            
            alert('Notebook changes saved successfully!');
        }

        function logout() {
            currentUser = null;
            document.getElementById('studentUsername').value = '';
            document.getElementById('studentPassword').value = '';
            document.getElementById('staffUsername').value = '';
            document.getElementById('staffPassword').value = '';
            document.getElementById('sltUsername').value = '';
            document.getElementById('sltPassword').value = '';
            showPage('login');
        }

        // Initialize
        updateTeamPage();
    </script>
</body>
</html>
